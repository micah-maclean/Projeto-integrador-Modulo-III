<!DOCTYPE html>
<html>
    <head>
        <title>MediTech</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" th:href="@{/css/style.css}" href="../static/css/style.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"> 
    </head>
    <body>
        <nav class="navbar navbar-expand-lg bg-primary mb-3" data-bs-theme="dark">
            <div class="container-fluid">
              <a class="navbar-brand" th:href="@{/}">MediTech</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
            </div>
        </nav>
        <div class="container">
          <form class="d-flex flex-column card-body" th:action="@{'/' + ${url}}" method="post">
            <h1 class="text-center" th:if="${!atualizar}" th:text="|Cadastrar ${tipo}|"></h1>
            <!-- <h1 class="text-center" th:if="${atualizar}" th:text="|Atualizar ${tipo}|"></h1> -->
            <div class="d-flex flex-column gap-3 mb-3" th:if="${tipo.equals('medico')} or ${tipo.equals('paciente')}">
              <input type="hidden" name="id" th:value="${entity.id}">
                <div>
                  <label for="nome" class="form-label">Nome</label>
                  <input type="text" class="form-control" id="nome" th:field="${entity.nome}">
                </div>
                <div>
                  <label for="telefone" class="form-label">Telefone</label>
                  <input type="text" class="form-control" id="telefone" th:field="${entity.telefone}"></input>
                </div>
                <div>
                  <label for="cpf" class="form-label">CPF</label>
                  <input type="text" class="form-control" id="cpf" th:field="${entity.cpf}">
                </div>
                <div>
                  <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                  <input type="date" class="form-control" id="dataNascimento" th:field="${entity.dataNascimento}">
                </div>
                <div>
                  <label for="email" class="form-label">E-mail</label>
                  <input type="text" class="form-control" id="email" th:field="${entity.email}">
                </div>
                <div th:if="${tipo.equals('medico')}">
                  <label for="cmr" class="form-label">CMR</label>
                  <input type="text" class="form-control" id="cmr" th:field="${entity.cmr}">
                </div>
                <div th:if="${tipo.equals('medico')}">
                  <label for="especialidade" class="form-label">Especialidade</label>
                  <input type="text" class="form-control" id="especialidade" th:field="${entity.especialidade}">
                </div>
                <div th:if="${tipo.equals('paciente')}">
                  <label for="numeroSUS" class="form-label">Número do cartão do sus</label>
                  <input type="text" class="form-control" id="numeroSUS" th:field="${entity.numeroSUS}">
                </div>
            </div>

            <div class="d-flex flex-column gap-3 mb-3" th:if="${tipo.equals('consulta')}">
              <div>
                <label for="medicoId" class="form-label">Medico</label>
                <select id="medicoId" class="form-control" th:field="${entity.medicoId}">
                  <option th:each="medico : ${medicos}" th:value="${medico.id}" th:text="${medico.nome}">
                  </option>
                </select>
              </div>
              <div>
                <label for="pacienteId" class="form-label">Paciente</label>
                <select id="pacienteId" class="form-control" th:field="${entity.pacienteId}">
                  <option th:each="paciente : ${pacientes}" th:value="${paciente.id}" th:text="${paciente.nome}">
                  </option>
                </select>
              </div>
              <div>
                <label for="data" class="form-label">Data</label>
                <input type="date" class="form-control" th:field="${entity.data}" id="data"/>
              </div>
              <div>
                <label for="horario" class="form-label">Horário</label>
                <input type="text" class="form-control" id="horario" th:field="${entity.horario}">
                <div id="horarioHelp" class="form-text">Horarios no formato hh:mm.</div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary" th:if="${!atualizar}">Cadastrar</button>              
            <!-- <button type="submit" class="btn btn-primary" th:if="${atualizar}">Atualizar</button>               -->
          </form>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>